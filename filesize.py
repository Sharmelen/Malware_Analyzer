import os
import numpy as np
from random import sample
import matplotlib.pyplot as plt
import matplotlib.colors as pltc

def filesize(dir):
    #dir = input('File Path of Samples :')
    samples = os.listdir(dir)

    min_size = []
    med_size = []
    high_size = []
    f= open("report_gen/filesize.txt","w+")
    f = open('report_gen/filesize.txt','r+')
    f.truncate(0)
    f = open('report_gen/filesize.txt','a+')

    for i in range (len(samples)):

        size = os.path.getsize(dir+samples[i])
        f.write("Sample name :"+str(samples[i])+"\n"+"Byte Size: "+str(size)+ " bytes\r\n")
        #print("Sample name :"+str(samples[i])+"\n"+"Byte Size: "+str(size)+ " bytes")
        f.write('::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n')
        #print('::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::')
        if size < 10000:
            min_size.append(size)

        elif size > 10001 and size < 30000:
            med_size.append(size)

        else:
            high_size.append(size)


    data = [len(min_size),len(med_size),len(high_size)]
    labels = ['< 10000 Bytes', '10001< x < 30000 Bytes','x > 30001 Bytes']
    plt.xticks(range(len(data)), labels)
    plt.xticks(rotation=0,fontsize='9')
    plt.ylabel('Number of Samples')
    plt.xlabel('Size Range')
    plt.title('Sample Size')
    plt.bar(range(len(data)), data)
    plt.savefig('report_gen/filesize.png',bbox_inches='tight',dpi=1000)
    plt.close(1)

    #plt.show()

#filesize()
